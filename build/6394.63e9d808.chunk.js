"use strict";(self.webpackChunkchatapp=self.webpackChunkchatapp||[]).push([[6394],{7761:(I,P,t)=>{t.d(P,{pl:()=>L,aY:()=>T,q5:()=>i.q});var e=t(67294),u=t(57993),m=t(25804),g=t(18172);const f={data:[],isLoading:!0},r=(n,p)=>(0,g.ZP)(n,d=>{switch(p.type){case"GET_DATA_SUCCEEDED":{d.data=p.data,d.isLoading=!1;break}case"GET_DATA_ERROR":{d.isLoading=!1;break}default:return d}}),L=({ssoEnabled:n})=>{const[p,d]=(0,e.useReducer)(r,f),h=(0,u.lm)(),{get:R}=(0,u.kY)();return(0,e.useEffect)(()=>{(async()=>{try{if(!n){d({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:A}=await R((0,m.IF)("providers"));d({type:"GET_DATA_SUCCEEDED",data:A})}catch(A){console.error(A),d({type:"GET_DATA_ERROR"}),h({type:"warning",message:{id:"notification.error"}})}})()},[R,n,h]),p};var l=t(14293),_=t.n(l),E=t(86896),D=t(16550),i=t(71926);const a="strapi-notification-seat-limit",c="https://cloud.strapi.io/profile/billing",s="https://strapi.io/billing/request-seats",T=()=>{const{formatMessage:n}=(0,E.Z)();let{license:p,isError:d,isLoading:h}=(0,i.q)();const R=(0,u.lm)(),{pathname:y}=(0,D.TH)(),{enforcementUserCount:A,permittedSeats:C,licenseLimitStatus:M,isHostedOnStrapiCloud:U}=p;(0,e.useEffect)(()=>{if(d||h)return;const B=!_()(C)&&!window.sessionStorage.getItem(`${a}-${y}`)&&(M==="AT_LIMIT"||M==="OVER_LIMIT");let S;M==="OVER_LIMIT"?S="warning":M==="AT_LIMIT"&&(S="softWarning"),B&&R({type:S,message:n({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:M}),title:n({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:M,enforcementUserCount:A,permittedSeats:C}),link:{url:U?c:s,label:n({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:U})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${a}-${y}`,!0)}})},[R,p,y,n,h,C,M,A,U,d])}},71926:(I,P,t)=>{t.d(P,{q:()=>g});var e=t(67294),u=t(57993),m=t(88767);function g({enabled:f}={enabled:!0}){const{get:O}=(0,u.kY)(),{data:r,isError:o,isLoading:L}=(0,m.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:E}}=await O("/admin/license-limit-information");return E},{enabled:f}),l=r!=null?r:{},_=e.useCallback(E=>{var D,i;const a=((D=l==null?void 0:l.features)!=null?D:[]).find(c=>c.name===E);return(i=a==null?void 0:a.options)!=null?i:{}},[l==null?void 0:l.features]);return{license:l,getFeature:_,isError:o,isLoading:L}}},76394:(I,P,t)=>{t.r(P),t.d(P,{LoginEE:()=>a});var e=t(67294),u=t(70004),m=t(41580),g=t(11047),f=t(75515),O=t(45697),r=t.n(O),o=t(86896),L=t(88972),l=t(50745),_=t(31640),E=t(7761),D=t(80090);const i=(0,L.ZP)(u.i)`
  flex: 1;
`,a=c=>{const s=window.strapi.features.isEnabled(window.strapi.features.SSO),{isLoading:v,data:T}=(0,E.pl)({ssoEnabled:s}),{formatMessage:n}=(0,o.Z)();return!s||!v&&T.length===0?e.createElement(l.ZP,null,e.createElement(_.Z,{...c})):e.createElement(l.ZP,null,e.createElement(_.Z,{...c},e.createElement(m.x,{paddingTop:7},e.createElement(g.k,{direction:"column",alignItems:"stretch",gap:7},e.createElement(g.k,null,e.createElement(i,null),e.createElement(m.x,{paddingLeft:3,paddingRight:3},e.createElement(f.Z,{variant:"sigma",textColor:"neutral600"},n({id:"Auth.login.sso.divider"}))),e.createElement(i,null)),e.createElement(D.Z,{providers:T,displayAllProviders:!1})))))};a.defaultProps={onSubmit:c=>c.preventDefault(),requestError:null},a.propTypes={formErrors:r().object.isRequired,modifiedData:r().object.isRequired,onChange:r().func.isRequired,onSubmit:r().func,requestError:r().object}},80090:(I,P,t)=>{t.d(P,{Z:()=>c});var e=t(67294),u=t(11047),m=t(84495),g=t(75515),f=t(11276),O=t(67819),r=t(45697),o=t.n(r),L=t(86896),l=t(73727),_=t(88972);const E=_.ZP.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:s})=>s.colors.neutral150};
  border-radius: ${({theme:s})=>s.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:s})=>s.colors.neutral600};
`,D=(0,_.ZP)(u.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:s})=>s.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:s})=>s.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:s})=>s.spaces[2]};
  }
`,i=({provider:s})=>e.createElement(m.u,{label:s.displayName},e.createElement(E,{href:`${window.strapi.backendURL}/admin/connect/${s.uid}`},s.icon?e.createElement("img",{src:s.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(g.Z,null,s.displayName)));i.propTypes={provider:o().shape({icon:o().string,displayName:o().string.isRequired,uid:o().string.isRequired}).isRequired};const a=({providers:s,displayAllProviders:v})=>{const{formatMessage:T}=(0,L.Z)();return v?e.createElement(f.r,{gap:4},s.map(n=>e.createElement(O.P,{key:n.uid,col:4},e.createElement(i,{provider:n})))):s.length>2&&!v?e.createElement(f.r,{gap:4},s.slice(0,2).map(n=>e.createElement(O.P,{key:n.uid,col:4},e.createElement(i,{provider:n}))),e.createElement(O.P,{col:4},e.createElement(m.u,{label:T({id:"global.see-more"})},e.createElement(E,{as:l.rU,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(D,{justifyContent:"center"},s.map(n=>e.createElement(i,{key:n.uid,provider:n})))};a.defaultProps={displayAllProviders:!0},a.propTypes={providers:o().arrayOf(o().object).isRequired,displayAllProviders:o().bool};const c=a}}]);
