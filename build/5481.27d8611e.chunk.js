"use strict";(self.webpackChunkchatapp=self.webpackChunkchatapp||[]).push([[5481],{7761:(P,l,t)=>{t.d(l,{pl:()=>I,aY:()=>U,q5:()=>E.q});var i=t(67294),n=t(57993),u=t(25804),d=t(18172);const h={data:[],isLoading:!0},T=(s,o)=>(0,d.ZP)(s,e=>{switch(o.type){case"GET_DATA_SUCCEEDED":{e.data=o.data,e.isLoading=!1;break}case"GET_DATA_ERROR":{e.isLoading=!1;break}default:return e}}),I=({ssoEnabled:s})=>{const[o,e]=(0,i.useReducer)(T,h),g=(0,n.lm)(),{get:L}=(0,n.kY)();return(0,i.useEffect)(()=>{(async()=>{try{if(!s){e({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:c}=await L((0,u.IF)("providers"));e({type:"GET_DATA_SUCCEEDED",data:c})}catch(c){console.error(c),e({type:"GET_DATA_ERROR"}),g({type:"warning",message:{id:"notification.error"}})}})()},[L,s,g]),o};var a=t(14293),p=t.n(a),f=t(86896),v=t(16550),E=t(71926);const m="strapi-notification-seat-limit",D="https://cloud.strapi.io/profile/billing",M="https://strapi.io/billing/request-seats",U=()=>{const{formatMessage:s}=(0,f.Z)();let{license:o,isError:e,isLoading:g}=(0,E.q)();const L=(0,n.lm)(),{pathname:A}=(0,v.TH)(),{enforcementUserCount:c,permittedSeats:C,licenseLimitStatus:r,isHostedOnStrapiCloud:S}=o;(0,i.useEffect)(()=>{if(e||g)return;const N=!p()(C)&&!window.sessionStorage.getItem(`${m}-${A}`)&&(r==="AT_LIMIT"||r==="OVER_LIMIT");let O;r==="OVER_LIMIT"?O="warning":r==="AT_LIMIT"&&(O="softWarning"),N&&L({type:O,message:s({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:r}),title:s({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:r,enforcementUserCount:c,permittedSeats:C}),link:{url:S?D:M,label:s({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:S})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${m}-${A}`,!0)}})},[L,o,A,s,g,C,r,c,S,e])}},71926:(P,l,t)=>{t.d(l,{q:()=>d});var i=t(67294),n=t(57993),u=t(88767);function d({enabled:h}={enabled:!0}){const{get:R}=(0,n.kY)(),{data:T,isError:y,isLoading:I}=(0,u.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:f}}=await R("/admin/license-limit-information");return f},{enabled:h}),a=T!=null?T:{},p=i.useCallback(f=>{var v,E;const m=((v=a==null?void 0:a.features)!=null?v:[]).find(D=>D.name===f);return(E=m==null?void 0:m.options)!=null?E:{}},[a==null?void 0:a.features]);return{license:a,getFeature:p,isError:y,isLoading:I}}},17403:(P,l,t)=>{t.r(l),t.d(l,{UserListPageEE:()=>d});var i=t(67294),n=t(61611),u=t(7761);function d(){return(0,u.aY)(),i.createElement(n.W,null)}}}]);
